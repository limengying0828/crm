<!DOCTYPE html>
<html  xmlns:th="http://www.thymeleaf.org" >
<head>
    <meta charset="UTF-8">
    <title>修改商机</title>
    <link rel="stylesheet" href="/layui/css/layui.css" media="all">
    <script src="/js/jquery-3.4.1.js"></script>
    <script src="/layui/layui.js"></script>

    <script type="text/javascript">
        var a3=function(){
            window.location.href="/html/ykz/mybusiness.html"
        }

        var a4=function(){
            window.location.href=""
        }

        var a5=function(){
            window.location.href="/html/ykz/mybusiness.html"
        }
    </script>
</head>
<body>
<form class="layui-form" action="/business/mybusinessupdate.do" method="get">
    <center>
        <table width="95%">
            <tr>
                <td><font size="5">修改商机</font></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>

            <tr>
                <td>商机名称</td>
                <td>
                    <input type="hidden" name="businessid" th:value="${business.businessid}">
                    <div class="layui-form-item" align="center">
                        <div class="layui-input-block">
                            <input readonly="readonly" type="text" th:value="${business.businessname}" name="businessname" style="width: 290px;" required lay-verify="required" placeholder="请输入"
                                   autocomplete="off" class="layui-input">
                        </div>
                    </div>
                </td>
                <td>
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            优先级
                            <span th:if="${business.contractpriority}==1">
                                <input type="radio" checked="checked" value="1" name="contractpriority" title="低">
                                <input type="radio" value="2" name="contractpriority" title="中">
                                <input type="radio" value="3" name="contractpriority" title="高">
                            </span>

                            <span th:if="${business.contractpriority}==2">
                                <input type="radio" value="1" name="contractpriority" title="低">
                                <input type="radio" checked="checked" value="2" name="contractpriority" title="中">
                                <input type="radio" value="3" name="contractpriority" title="高">
                            </span>

                            <span th:if="${business.contractpriority}==3">
                                <input type="radio" value="1" name="contractpriority" title="低">
                                <input type="radio" value="2" name="contractpriority" title="中">
                                <input type="radio" checked="checked" value="3" name="contractpriority" title="高">
                            </span>

                        </div>
                    </div>
                </td>
                <td width="20%" align="right">
                    <input data-method="offset" data-type="r" class="layui-btn layui-btn-normal" type="button" onclick="a3()" value="< 返回 " style="font-size: 20px;font-weight: bold;width:100px;height:40px;">
                    <input data-method="offset" data-type="r" class="layui-btn layui-btn-normal" type="button" onclick="a4()" value="刷新 " style="font-size: 20px;font-weight: bold;width:100px;height:40px;">
                </td>
            </tr>

            <tr bgcolor="#fafad2">
                <td height="50px"><h2>客户信息</h2></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td height="5px"></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>

            <tr>
                <td>客户名称</td>
                <td>
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <input readonly="readonly" type="text" th:value="${customer.customername}"  required lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </td>
                <td align="center">所属行业</td>
                <td>
                    <div class="layui-form-item">
                        <div class="layui-input-block" style="width: 290px;">
                            <select readonly="readonly"   lay-verify="required">
                                <option value="0" th:selected="${customer.industry=='0' ? true:false}"></option>
                                <option value="IT|互联网|通信|电子" th:selected="${customer.industry=='IT|互联网|通信|电子' ? true:false}">IT|互联网|通信|电子</option>
                                <option value="金融|银行|保险" th:selected="${customer.industry=='金融|银行|保险' ? true:false}">金融|银行|保险</option>
                                <option value="房产|建筑建设|物业" th:selected="${customer.industry=='房产|建筑建设|物业' ? true:false}">房产|建筑建设|物业</option>
                                <option value="广告|传媒|印刷出版" th:selected="${customer.industry=='广告|传媒|印刷出版' ? true:false}">广告|传媒|印刷出版</option>
                                <option value="消费零食|贸易|交通物流" th:selected="${customer.industry=='消费零食|贸易|交通物流' ? true:false}">消费零食|贸易|交通物流</option><option value="IT">IT</option>
                                <option value="加工制造|仪表设备" th:selected="${customer.industry=='加工制造|仪表设备' ? true:false}">加工制造|仪表设备</option>
                                <option value="管理咨询|教育科研|中介服务" th:selected="${customer.industry=='管理咨询|教育科研|中介服务' ? true:false}">管理咨询|教育科研|中介服务</option>
                                <option value="医疗生物|医疗保健" th:selected="${customer.industry=='医疗生物|医疗保健' ? true:false}">医疗生物|医疗保健</option>
                                <option value="酒店旅游" th:selected="${customer.industry=='酒店旅游' ? true:false}">酒店旅游</option>
                                <option value="能源矿产|石油化工" th:selected="${customer.industry=='能源矿产|石油化工' ? true:false}">能源矿产|石油化工</option>
                                <option value="政府|非赢利机构|科研" th:selected="${customer.industry=='政府|非赢利机构|科研' ? true:false}">政府|非赢利机构|科研</option>
                                <option value="其他" th:selected="${customer.industry=='其他' ? true:false}">其他</option>
                            </select>
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td>所在城市</td>
                <td>
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <input readonly="readonly" type="text" th:value="${customer.city}" placeholder="请输入主题" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </td>
                <td align="center">详细地址</td>
                <td>
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <input readonly="readonly" type="text" th:value="${customer.address}"  placeholder="请输入主题" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </td>
            </tr>

            <tr bgcolor="#fafad2">
                <td height="50px"><h2>商机信息</h2></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>

            <tr>
                <td>商机名称</td>
                <td>
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <input readonly="readonly" type="text" th:value="${business.businessname}"  required lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </td>
                <td align="center">客户来源</td>
                <td>
                    <div class="layui-form-item">
                        <div class="layui-input-block" style="width: 290px;">
                            <select readonly="readonly" name="customersource"  lay-verify="required">
                                <option value="0" th:selected="${customer.customersource=='0' ? true:false}"></option>
                                <option value="老客户" th:selected="${customer.customersource=='老客户' ? true:false}">老客户</option>
                                <option value="代理商" th:selected="${customer.customersource=='代理商' ? true:false}">代理商</option>
                                <option value="互联网" th:selected="${customer.customersource=='互联网' ? true:false}">互联网</option>
                                <option value="独立开发" th:selected="${customer.customersource=='独立开发' ? true:false}" >独立开发</option>
                                <option value="客户介绍" th:selected="${customer.customersource=='客户介绍' ? true:false}">客户介绍</option>
                                <option value="合作伙伴" th:selected="${customer.customersource=='合作伙伴' ? true:false}">合作伙伴</option>
                                <option value="促销活动" th:selected="${customer.customersource=='促销活动' ? true:false}">促销活动</option>
                                <option value="媒体宣传" th:selected="${customer.customersource=='媒体宣传' ? true:false}">媒体宣传</option>
                                <option value="电话访问" th:selected="${customer.customersource=='电话访问' ? true:false}">电话访问</option>
                                <option value="客户来电" th:selected="${customer.customersource=='客户来电' ? true:false}">客户来电</option>
                                <option value="二次销售" th:selected="${customer.customersource=='二次销售' ? true:false}">二次销售</option>
                                <option value="公开招标" th:selected="${customer.customersource=='公开招标' ? true:false}">公开招标</option>
                                <option value="研讨会和展会" th:selected="${customer.customersource=='研讨会和展会' ? true:false}">研讨会和展会</option>
                                <option value="其他" th:selected="${customer.customersource=='其他' ? true:false}">其他</option>

                            </select>
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td>预计成交金额</td>
                <td>
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <input type="text" th:value="${business.makemoney}" name="makemoney"  placeholder="请输入" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </td>
                <td align="center">预计结单日期</td>
                <td align="right">
                    <div class="layui-inline">
                        <div class="layui-input-inline">
                            <input type="text" th:value="${business.overdate}" name="overdate"  style="width: 290px;" class="layui-input" id="date1" placeholder="yyyy-MM-dd">
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td>联系人</td>
                <td>
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <input readonly="readonly" type="text" th:value="${customer.linkman}"  required="" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </td>
                <td align="center">部门</td>
                <td align="center">
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <input readonly="readonly" type="text" th:value="${customer.department}"  placeholder="请输入" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td>职务</td>
                <td>
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <input readonly="readonly" type="text" th:value="${customer.post}"  placeholder="请输入" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </td>
                <td align="center">固定电话</td>
                <td align="center">
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <input readonly="readonly" type="text" th:value="${customer.officephone}"   placeholder="请输入" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td>移动电话</td>
                <td>
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <input readonly="readonly" type="text" th:value="${customer.telephone}"   placeholder="请输入" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </td>
                <td align="center">邮件/QQ</td>
                <td align="center">
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <input readonly="readonly" type="text" th:value="${customer.email}"   placeholder="请输入" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td height="5px"></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>

            <tr>
                <td>主要业务需求</td>
                <td colspan="3">
                    <div align="center" class="layui-form-item">
                        <div class="layui-input-block">
                            <textarea name="businessdemand" class="layui-input" required="" placeholder="请输入" autocomplete="off" lay-verify="">
                                [[${business.businessdemand}]]
                            </textarea>
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td>附件</td>
                <td><!--attachment-->
                    <div class="layui-form-item" align="center">
                        <div class="layui-input-block">
                            <button type="button" class="layui-btn" id="uploadTest"><i class="layui-icon"></i>上传文件</button>
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td>商机所属部门</td>
                <td>
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <input type="text" disabled="disabled"  name=""  placeholder="请输入" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </td>
                <td align="center">商机负责人</td>
                <td align="center">
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <input readonly="readonly" type="text" th:value="${business.userId}" name="userId" required="" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td>商机参与人</td>
                <td>
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <input type="text" th:value="${business.participate}" name="participate"  placeholder="请输入" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </td>
                <td align="center">商机关注人</td>
                <td align="center">
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <input type="text" th:value="${business.focuspeople}" name="focuspeople"  placeholder="请输入" autocomplete="off" class="layui-input" >
                        </div>
                    </div>
                </td>
            </tr>

            <tr>
                <td height="20px"></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr bgcolor="#fafad2">
                <td height="50px"><h2>处理流程日志</h2></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
        </table><br><br>
        <div class="site-text">
            <div style="width:1250px;">
                <div style="float: left">
                    <div class="layui-input-block" style="border:1px solid ;color: #e2e2e2;height:480px;width:400px;">
                        <div>
                            <font size="3" color="black">【处理流程】</font><br/>
                            ----------------------------------------------------------------------
                        </div>
                        <a href="#"><font style="color: blue">&nbsp;&nbsp;&nbsp;&nbsp;哈哈哈哈哈</font></a>
                    </div>
                </div>
                <div style="float: left">
                    <div class="layui-form-item layui-form-text" style="margin-left: 160px;">
                        <div class="layui-input-block" style="border:1px solid ;color: #e2e2e2;height:220px;width: 400px;">
                            <div>
                                <font size="3" color="black">【父事务】</font><br/>
                                ----------------------------------------------------------------------
                            </div>
                            <a href="#"><font style="color: blue">&nbsp;&nbsp;&nbsp;&nbsp;哈哈哈哈哈</font></a>
                        </div>
                    </div>
                    <div class="layui-form-item layui-form-text" style="margin-left: 160px; margin-top: 20px;">
                        <div class="layui-input-block" style="border:1px solid ;color: #e2e2e2;height:220px;width: 400px;">
                            <div>
                                <font size="3" color="black">【子事务】</font><br/>
                                ----------------------------------------------------------------------
                            </div>
                            <a href="#"><font style="color: blue">&nbsp;&nbsp;&nbsp;&nbsp;哈哈哈哈哈</font></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="layui-form-item" style="width: 80%;margin-left: 20px;">
            <div class="layui-input-block">
                <p>
                    <button class="layui-btn layui-btn-radius layui-btn-normal" lay-submit lay-filter="formDemo">提交审核</button>
                    <button type="button" onclick="a5()" class="layui-btn layui-btn-radius layui-btn-primary">取消</button>
                </p>
            </div>
        </div>
    </center>

    当前状态
    <div class="layui-form-item">
        <div class="layui-input-block" style="width: 290px;">
            <select name="todaystate"  lay-verify="required">
                <option th:selected="${busprocess.todaystate=='初期沟通' ? true:false}"  value="初期沟通">初期沟通</option>
                <option th:selected="${busprocess.todaystate=='方案和报价' ? true:false}"  value="方案和报价">方案和报价</option>
                <option th:selected="${busprocess.todaystate=='竞争或投标' ? true:false}"  value="竞争或投标">竞争或投标</option>
                <option th:selected="${busprocess.todaystate=='商务谈判' ? true:false}"  value="商务谈判">商务谈判</option>
                <option th:selected="${busprocess.todaystate=='成交' ? true:false}"  value="成交">成交</option>
                <option th:selected="${busprocess.todaystate=='丢单' ? true:false}"  value="丢单">丢单</option>
                <option th:selected="${busprocess.todaystate=='搁置' ? true:false}"  value="搁置">搁置</option>
            </select>
        </div>
    </div>

</form>


<script src="/layui/layui.js"></script>
<script>
    layui.use(['form', 'layer', 'upload', 'laydate'], function () {
        var form = layui.form;
        var layer = layui.layer;
        var upload = layui.upload;
        var $=layui.jquery;
        var laydate = layui.laydate;

        //时间
        laydate.render({
            elem: '#date1'
        });


        //常规用法
        laydate.render({
            elem: '#begintime'
        });
        laydate.render({
            elem: '#overtime'
        });

        $(function () {
            $.ajax({
                type:'get',
                url: '/customer/queryCustomer.do',
                datatype: 'json',
                success:function(data){
                    console.log(data)
                    for (var i = 0; i < data.length; i++) {
                        $('#customername').append(new Option(data[i].customername, data[i].customerid))
                    }
                    form.render();
                }
            });
        })
    });
</script>
</body>
</html>